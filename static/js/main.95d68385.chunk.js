(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(22)},18:function(e,t,a){},20:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(6),c=a.n(r),i=(a(18),a(2)),o=a.n(i),l=a(1),m=a(3),u=a(4),d=a(7),h=a(8),f=a(10),p=a(9),b=a(11);a(20);var v=function(e){var t=e.comment;return s.a.createElement("div",{className:"comment"},s.a.createElement("div",{className:"comment__user"},s.a.createElement("span",{className:"comment__user__name"},t.name),s.a.createElement("code",{className:"comment__user__email"},t.email)),s.a.createElement("div",{className:"comment__body"},s.a.createElement("code",null,t.body)))};var E=function(e){var t=e.post,a=e.onShowComments;return s.a.createElement("div",{className:"rightside-item__bottom"},s.a.createElement("span",{className:"rightside-item__bottom__heading",onClick:function(){return a(t.id)}},t.isCommentsShowed?"Hide comments":"Show "+t.comments.length+" comments"),s.a.createElement("div",{className:"rightside-item__bottom__comments"},t.isCommentsShowed?t.comments.map(function(e){return s.a.createElement(v,{comment:e,key:e.id})}):null))};var _=function(e){var t=e.user,a=e.showPosts,n=e.label,r=e.status;return s.a.createElement("div",{className:r===t.id?"leftside-item leftside-item--selected":"leftside-item"},s.a.createElement("p",null,s.a.createElement("b",null,t.name)),s.a.createElement("p",null,s.a.createElement("code",null,t.email)),s.a.createElement("button",{className:"leftside-item--button",onClick:function(){return a(t.id)},disabled:r===t.id},n+"posts"))};var w=function(e){var t=e.post,a=e.user,n=e.onShowComments;return e.postIndex,s.a.createElement("div",{className:"rightside-item"},s.a.createElement("div",{className:"rightside-item__top"},s.a.createElement("div",{className:"rightside-item__user-info"},s.a.createElement("h4",null,a.name),s.a.createElement("span",null,a.email),s.a.createElement("br",null),s.a.createElement("code",null,a.address.city+": "+a.address.zipcode)),s.a.createElement("div",{className:"rightside-item__post-info"},s.a.createElement("h3",null,t.title),s.a.createElement("code",null,t.body))),s.a.createElement(E,{post:t,onShowComments:n}))};var g=function(e){var t=e.users,a=e.posts,n=e.sortPosts,r=e.onShowComments;return s.a.createElement("section",{className:"rightside-wrapper"},a.length?s.a.createElement("div",{className:"rightside__header"},s.a.createElement("div",{className:"rightside__header__button",onClick:function(){return n("byTitle")}},"Sort by title"),s.a.createElement("div",{className:"rightside__header__button",onClick:function(){return n("byContent")}},"Sort by content")):null,s.a.createElement("div",{className:"rightside"},a.map(function(e){return s.a.createElement(w,{post:e,key:e.id,onShowComments:r,user:t.find(function(t){return t.id===e.userId})})})))};a(21);var N=function(e){var t=e.users,a=e.status,n=e.label,r=e.showPosts;return s.a.createElement("section",{className:"leftside"},t.length?t.map(function(e){return s.a.createElement(_,{user:e,key:e.id,showPosts:r,status:a,label:n})}):s.a.createElement("div",{className:"attention"},s.a.createElement("p",null,"Loading"),s.a.createElement("div",{id:"circularG"},s.a.createElement("div",{id:"circularG_1",className:"circularG"}),s.a.createElement("div",{id:"circularG_2",className:"circularG"}),s.a.createElement("div",{id:"circularG_3",className:"circularG"}),s.a.createElement("div",{id:"circularG_4",className:"circularG"}),s.a.createElement("div",{id:"circularG_5",className:"circularG"}),s.a.createElement("div",{id:"circularG_6",className:"circularG"}),s.a.createElement("div",{id:"circularG_7",className:"circularG"}),s.a.createElement("div",{id:"circularG_8",className:"circularG"}))))},j=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(p.a)(t).call(this,e))).showPosts=function(){var e=Object(u.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.isDataLoad){e.next=3;break}return e.next=3,a.loadingData();case 3:a.setState(function(e){var a=Object(m.a)({},e),n=a.users.find(function(e){return e.id===t});return a.label="Show ",a.loadedPostsId=t,a.showingPosts=Object(l.a)(n.posts),Object(m.a)({},a)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.sortPosts=function(e){var t={byTitle:function(e,t){return e.title.localeCompare(t.title)},byContent:function(e,t){return e.body.localeCompare(t.body)}};a.setState(function(a){var n=a.showingPosts;return n.sort(t[e]),{showingPosts:Object(l.a)(n)}})},a.showComments=function(e){a.setState(function(t){var a=Object(l.a)(t.showingPosts),n=a.find(function(t){return t.id===e});return n.isCommentsShowed=!n.isCommentsShowed,{showingPosts:Object(l.a)(a)}})},a.state={users:[],showingPosts:[],label:"Load ",isDataLoad:!1,loadedPostsId:0},a}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonplaceholder.typicode.com/users").then(function(e){return e.json()});case 2:t=e.sent,this.setState({users:Object(l.a)(t)});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"changingLabel",value:function(){this.setState({label:"Loading "})}},{key:"loadingData",value:function(){var e=Object(u.a)(o.a.mark(function e(){var t,a,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.changingLabel(),e.next=3,fetch("https://jsonplaceholder.typicode.com/posts").then(function(e){return e.json()});case 3:return t=e.sent,e.next=6,fetch("https://jsonplaceholder.typicode.com/comments").then(function(e){return e.json()});case 6:return a=e.sent,this.setState(function(e){var s=Object(m.a)({},e),r=Object(l.a)(s.users);return n=r.map(function(e){var n=t.filter(function(t){return t.userId===e.id}).map(function(e){var t=a.filter(function(t){return t.postId===e.id});return Object(m.a)({},e,{comments:Object(l.a)(t),isCommentsShowed:!1})});return Object(m.a)({},e,{posts:Object(l.a)(n)})}),Object(m.a)({},s,{users:Object(l.a)(n),isDataLoad:!0})}),e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",{className:"wrapper"},s.a.createElement(N,{users:this.state.users,status:this.state.loadedPostsId,label:this.state.label,showPosts:this.showPosts}),s.a.createElement(g,{posts:this.state.showingPosts,users:this.state.users,sortPosts:this.sortPosts,onShowComments:this.showComments}))}}]),t}(s.a.Component);c.a.render(s.a.createElement(j,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.95d68385.chunk.js.map