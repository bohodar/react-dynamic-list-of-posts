{"version":3,"sources":["components/Comment.js","components/CommentList.js","components/User.js","components/Post.js","components/Postlist.js","components/UserList.js","App.js","api/data.js","index.js"],"names":["Comment","props","comment","react_default","a","createElement","className","name","email","body","CommentList","post","onShowComments","onClick","id","isCommentsShowed","comments","length","map","el","components_Comment","key","User","user","showPosts","label","status","disabled","Post","postIndex","address","city","zipcode","title","components_CommentList","PostList","users","posts","sortPosts","components_Post","find","userId","UserList","item","components_User","App","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","state","isDataLoad","loadingData","setState","copyObj","objectSpread","copyUser","loadedPostsId","showingPosts","toConsumableArray","stop","_x","apply","arguments","sortType","sortTypeMap","byTitle","b","localeCompare","byContent","sort","showComments","postId","copyPosts","copyPost","fetch","then","result","json","data","changingLabel","copyUsers","resultUsers","sortedPosts","filter","sortedPost","sortedComments","comm","components_UserList","Postlist","React","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.95d68385.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nfunction Comment(props) {\r\n  const { comment } = props;\r\n  return (\r\n    <div className=\"comment\">\r\n      <div className=\"comment__user\">\r\n        <span className=\"comment__user__name\">{comment.name}</span>\r\n        <code className=\"comment__user__email\">{comment.email}</code>\r\n      </div>\r\n      <div className=\"comment__body\">\r\n        <code>{comment.body}</code>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Comment\r\n","import React from 'react'\r\nimport Comment from './Comment'\r\n\r\nfunction CommentList(props) {\r\n  const { post, onShowComments } = props;\r\n  return (\r\n    <div className=\"rightside-item__bottom\">\r\n      <span\r\n        className=\"rightside-item__bottom__heading\"\r\n        onClick={() => onShowComments(post.id)}\r\n      >\r\n        {post.isCommentsShowed ?\r\n          \"Hide comments\" :\r\n          \"Show \" + post.comments.length + \" comments\"\r\n        }\r\n      </span>\r\n      <div className=\"rightside-item__bottom__comments\" >\r\n        {post.isCommentsShowed ?\r\n          post.comments\r\n            .map(el => <Comment comment={el} key={el.id} />) :\r\n          null\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CommentList\r\n","import React from 'react'\r\n\r\nfunction User(props) {\r\n  const { user, showPosts, label, status } = props;\r\n  return (\r\n    <div className={status === user.id ?\r\n      \"leftside-item leftside-item--selected\" :\r\n      \"leftside-item\"\r\n    }>\r\n      <p><b>{user.name}</b></p>\r\n      <p><code>{user.email}</code></p>\r\n      <button\r\n        className=\"leftside-item--button\"\r\n        onClick={() => showPosts(user.id)}\r\n        disabled={status === user.id}\r\n      >\r\n        {label + \"posts\"}\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default User\r\n","import React from 'react'\r\nimport CommentList from './CommentList'\r\nimport User from './User'\r\n\r\nfunction Post(props) {\r\n  const { post, user, onShowComments, postIndex } = props;\r\n  return (\r\n    <div className=\"rightside-item\">\r\n      <div className=\"rightside-item__top\">\r\n        <div className=\"rightside-item__user-info\">\r\n          <h4>{user.name}</h4>\r\n          <span>{user.email}</span>\r\n          <br/>\r\n          <code>{user.address.city + `: ` + user.address.zipcode}</code>\r\n        </div>\r\n        <div className=\"rightside-item__post-info\">\r\n          <h3>{post.title}</h3>\r\n          <code>{post.body}</code>\r\n        </div>\r\n      </div>\r\n      <CommentList\r\n        post={post}\r\n        onShowComments={onShowComments}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post\r\n","import React from 'react'\r\nimport Post from './Post'\r\n\r\nfunction PostList(props) {\r\n  const { users, posts, sortPosts, onShowComments } = props;\r\n  return (\r\n    <section className=\"rightside-wrapper\">\r\n    {posts.length ?\r\n      <div className=\"rightside__header\">\r\n        <div\r\n          className=\"rightside__header__button\"\r\n          onClick={() => sortPosts('byTitle')}\r\n        >\r\n          Sort by title\r\n        </div>\r\n        <div\r\n          className=\"rightside__header__button\"\r\n          onClick={() => sortPosts('byContent')}\r\n        >\r\n             Sort by content\r\n        </div>\r\n      </div> : null\r\n    }\r\n      <div className=\"rightside\">\r\n      {posts\r\n        .map((post) =>\r\n          <Post\r\n            post={post}\r\n            key={post.id}\r\n            onShowComments={onShowComments}\r\n            user={users.find(el => el.id === post.userId)}\r\n          />\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PostList\r\n","import React from 'react'\r\nimport User from './User'\r\nimport './UserList.css'\r\n\r\nfunction UserList(props) {\r\n  const {users, status, label, showPosts} = props;\r\n  return (\r\n    <section className=\"leftside\">\r\n      {users.length ?\r\n        users\r\n          .map(item =>\r\n            <User\r\n              user={item}\r\n              key={item.id}\r\n              showPosts={showPosts}\r\n              status={status}\r\n              label={label}\r\n            />\r\n          ) :\r\n        <div className=\"attention\">\r\n          <p>Loading</p>\r\n          <div id=\"circularG\">\r\n            <div id=\"circularG_1\" className=\"circularG\"></div>\r\n            <div id=\"circularG_2\" className=\"circularG\"></div>\r\n            <div id=\"circularG_3\" className=\"circularG\"></div>\r\n            <div id=\"circularG_4\" className=\"circularG\"></div>\r\n            <div id=\"circularG_5\" className=\"circularG\"></div>\r\n            <div id=\"circularG_6\" className=\"circularG\"></div>\r\n            <div id=\"circularG_7\" className=\"circularG\"></div>\r\n            <div id=\"circularG_8\" className=\"circularG\"></div>\r\n          </div>\r\n        </div>\r\n      }\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default UserList\r\n","import React from 'react';\nimport './App.css';\nimport PostList from './components/Postlist'\nimport { getPosts, getComments, getUsers } from './api/data'\nimport UserList from './components/UserList'\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      showingPosts: [],\n      label: 'Load ',\n      isDataLoad: false,\n      loadedPostsId: 0\n    }\n  }\n  async componentDidMount() {\n    const data = await getUsers();\n    this.setState({users: [...data]});\n  }\n\n  changingLabel() {\n    this.setState({label: 'Loading '})\n  }\n\n  async loadingData(){\n    this.changingLabel();\n    let posts, comments, resultUsers;\n    posts = await getPosts();\n    comments = await getComments();\n    this.setState((prev) => {\n      const copyObj = {...prev};\n      const copyUsers = [...copyObj.users];\n      resultUsers = copyUsers.map(user => {\n        const sortedPosts = posts\n          .filter(post => post.userId === user.id)\n          .map(sortedPost => {\n            const sortedComments = comments\n              .filter(comm => comm.postId === sortedPost.id);\n\n            return {\n              ...sortedPost,\n              comments: [...sortedComments],\n              isCommentsShowed: false\n            }\n          });\n\n        return {\n          ...user,\n          posts: [...sortedPosts],\n        }\n      });\n\n      return {\n        ...copyObj,\n        users: [...resultUsers],\n        isDataLoad: true\n      }\n    });\n    return resultUsers;\n  }\n\n  showPosts = async (userId) => {\n    if (!this.state.isDataLoad) {\n      await this.loadingData();\n    }\n    this.setState((prev) => {\n      const copyObj = {...prev};\n      const copyUser = copyObj.users\n        .find(user => user.id === userId);\n      copyObj.label = 'Show ';\n      copyObj.loadedPostsId = userId;\n      copyObj.showingPosts = [...copyUser.posts];\n      return {\n        ...copyObj\n      }\n    });\n  };\n\n  sortPosts = (sortType) => {\n    const sortTypeMap = {\n      'byTitle': (a, b) => a.title.localeCompare(b.title),\n      'byContent': (a, b) => a.body.localeCompare(b.body)\n    };\n    this.setState((prev) => {\n      const { showingPosts } = prev;\n      showingPosts.sort(sortTypeMap[sortType]);\n\n      return {\n        showingPosts: [...showingPosts]\n      }\n    })\n  };\n\n  showComments = (postId) => {\n    this.setState(prev => {\n      const copyPosts = [...prev.showingPosts];\n      const copyPost = copyPosts.find(post => post.id === postId);\n      copyPost.isCommentsShowed = !copyPost.isCommentsShowed;\n      return {\n        showingPosts: [...copyPosts]\n      }\n    })\n  };\n\n  render() {\n    return (\n      <div className=\"wrapper\">\n        <UserList\n          users={this.state.users}\n          status={this.state.loadedPostsId}\n          label={this.state.label}\n          showPosts={this.showPosts}\n        />\n        <PostList\n          posts={this.state.showingPosts}\n          users={this.state.users}\n          sortPosts={this.sortPosts}\n          onShowComments={this.showComments}\n        />\n      </div>\n    )\n  }\n}\n\nexport default App;\n","export const getPosts = () => {\r\n  return fetch('https://jsonplaceholder.typicode.com/posts')\r\n    .then(result => result.json())\r\n};\r\nexport const getUsers = () => {\r\n  return fetch('https://jsonplaceholder.typicode.com/users')\r\n    .then(result => result.json())\r\n};\r\nexport const getComments = () => {\r\n  return fetch('https://jsonplaceholder.typicode.com/comments')\r\n    .then(result => result.json())\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}