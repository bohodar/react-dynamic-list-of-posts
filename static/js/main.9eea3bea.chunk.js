(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(21)},18:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(6),o=n.n(r),c=(n(18),n(3)),i=n.n(c),l=n(2),u=n(1),m=n(4),d=n(7),h=n(8),f=n(10),p=n(9),b=n(11);n(20);var v=function(e){var t=e.comment;return s.a.createElement("div",{className:"comment"},s.a.createElement("h5",null,t.body))};var E=function(e){var t=e.postId,n=e.comments;return s.a.createElement("div",{className:"rightside-item__bottom__wrapper"},n.filter(function(e){return e.postId===t}).map(function(e){return s.a.createElement(v,{comment:e})}))};var w=function(e){var t=e.user,n=e.showPosts,a=e.label,r=e.status;return s.a.createElement("div",{className:r===t.id?"leftside-item leftside-item--selected":"leftside-item"},s.a.createElement("p",null,s.a.createElement("h3",null,t.name)),s.a.createElement("p",null,s.a.createElement("code",null,t.email)),s.a.createElement("button",{className:"leftside-item--button",onClick:function(){return n(t.id)},disabled:r===t.id},a+"posts"))};var g=function(e){var t=e.post,n=e.user,a=e.comments;return s.a.createElement("div",{className:"rightside-item"},s.a.createElement("div",{className:"rightside-item__top"},s.a.createElement("div",{className:"rightside-item__user-info"},s.a.createElement("h4",null,n.name),s.a.createElement("span",null,n.email),s.a.createElement("br",null),s.a.createElement("code",null,n.address.city+": "+n.address.zipcode)),s.a.createElement("div",{className:"rightside-item__post-info"},s.a.createElement("h3",null,t.title),s.a.createElement("code",null,t.body))),s.a.createElement("div",{className:"rightside-item__bottom"},s.a.createElement(E,{comments:a,postId:t.id})))};var j=function(e){var t=e.users,n=e.posts,a=e.comments,r=e.sortPosts;return s.a.createElement("section",{className:"rightside-wrapper"},s.a.createElement("div",{className:"rightside__header"},s.a.createElement("div",{className:"rightside__header__button",onClick:function(){return r("byTitle")}},"Sort by title"),s.a.createElement("div",{className:"rightside__header__button",onClick:function(){return r("byContent")}},"Sort by content")),s.a.createElement("div",{className:"rightside"},n.map(function(e){return s.a.createElement(g,{post:e,key:e.id,comments:a,user:t.find(function(t){return t.id===e.userId})})})))},_=function(){return fetch("https://jsonplaceholder.typicode.com/posts").then(function(e){return e.json()})};var y=function(e){var t=e.users,n=e.status,a=e.label,r=e.showPosts;return s.a.createElement("section",{className:"leftside"},t.length?t.map(function(e){return s.a.createElement(w,{user:e,key:e.id,showPosts:r,status:n,label:a})}):s.a.createElement("div",{className:"attention"},s.a.createElement("span",null,"Loading data of users")))},P=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(p.a)(t).call(this,e))).showPosts=function(){var e=Object(m.a)(i.a.mark(function e(t){var a,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.changingLabel(),n.state.isPostsLoaded){e.next=8;break}return e.next=4,_();case 4:a=e.sent,n.setState(function(e){var t=Object(u.a)({},e);return t.posts=Object(l.a)(a),t.isPostsLoaded=!0,Object(u.a)({},t)}),e.next=9;break;case 8:a=Object(l.a)(n.state.posts);case 9:s=a.filter(function(e){return e.userId===t}),n.setState(function(e){var n=Object(u.a)({},e);return n.showingPosts=Object(l.a)(s),n.loadedPostsId=t,n.label="Show ",Object(u.a)({},n)});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.sortPosts=function(e){var t={byTitle:function(e,t){return e.title.localeCompare(t.title)},byContent:function(e,t){return e.body.localeCompare(t.body)}};n.setState(function(n){var a=n.showingPosts;return a.sort(t[e]),{showingPosts:Object(l.a)(a)}})},n.state={users:[],posts:[],showingPosts:[],comments:[],label:"Load ",isPostsLoaded:!1,loadedPostsId:0},n}return Object(b.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://jsonplaceholder.typicode.com/users").then(function(e){return e.json()});case 2:t=e.sent,this.setState(function(e){var n=Object(u.a)({},e);return n.users=Object(l.a)(t),Object(u.a)({},n)});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"changingLabel",value:function(){this.setState({label:"Loading "})}},{key:"render",value:function(){return s.a.createElement("div",{className:"wrapper"},s.a.createElement(y,{users:this.state.users,load:this.loadUsers,status:this.state.loadedPostsId,label:this.state.label,showPosts:this.showPosts}),s.a.createElement(j,{posts:this.state.showingPosts,users:this.state.users,comments:this.state.comments,sortPosts:this.sortPosts}))}}]),t}(s.a.Component);o.a.render(s.a.createElement(P,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.9eea3bea.chunk.js.map